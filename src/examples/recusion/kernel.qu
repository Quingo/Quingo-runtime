opaque Y2P(q: qubit) : unit;
opaque Y2M(q: qubit) : unit;
opaque H(q: qubit) : unit;

opaque CZ(q1: qubit, q2: qubit) : unit;
opaque measure(q: qubit): bool;

operation fib(n: int, q: qubit) : int {
    if (n == 0) {
        return 0;
    }
    if (n == 1) {
        H(q);
        return 1;
    }
    return fib(n-1, q) + fib(n-2,q);
}

operation apply_fib_n_h(n: int) : int {
    int res;
    using (q: qubit) {
        res = fib(n, q);
    }
    return res;
}